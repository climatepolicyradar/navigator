name: run-tests

on: 
  push:
    branches:
      - main
      - dev
      - feat-141-automatic-unit-tests
  pull_request:
    branches:
      - main
      - dev

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      # - name: Build docker-compose stack using .env.example
      #   run: cp .env.example .env && make build
      # - name: Run backend tests
      #   run: make test_backend
      - name: Run e2e testing with Cypress
        uses: cypress-io/github-action@v2
        working-directory: ./frontend
        with:
          build: npm run build
          start: npm start